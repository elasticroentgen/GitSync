{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12904",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12904/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12904/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12904/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12904",
  "id": 1194618224,
  "node_id": "I_kwDOAm_5kc5HNG1w",
  "number": 12904,
  "title": "Improve building Solidity on Windows",
  "user": {
    "login": "christianparpart",
    "id": 56763,
    "node_id": "MDQ6VXNlcjU2NzYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/56763?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/christianparpart",
    "html_url": "https://github.com/christianparpart",
    "followers_url": "https://api.github.com/users/christianparpart/followers",
    "following_url": "https://api.github.com/users/christianparpart/following{/other_user}",
    "gists_url": "https://api.github.com/users/christianparpart/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/christianparpart/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/christianparpart/subscriptions",
    "organizations_url": "https://api.github.com/users/christianparpart/orgs",
    "repos_url": "https://api.github.com/users/christianparpart/repos",
    "events_url": "https://api.github.com/users/christianparpart/events{/privacy}",
    "received_events_url": "https://api.github.com/users/christianparpart/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 437863668,
      "node_id": "MDU6TGFiZWw0Mzc4NjM2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/build%20system%20:building_construction:",
      "name": "build system :building_construction:",
      "color": "1d76db",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-04-06T13:27:16Z",
  "updated_at": "2022-04-11T10:37:48Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "\r\n* While I personally think `vcpkg` should really be at least supported, I also struggled in getting `soltest.exe` linked against vcpkg's provided boost as it kept trying to link using the boost DLLs rather than static libraries.\r\n* I was running `install_deps.ps1` from project root and have received error messages that come from the fact that  I wasn't executing the script one level deeper (d.g. ./build/ directory).\r\n* Additional cmake flags are required, even when used in conjunction with the install-deps.ps1 provided dependencies. That should not be the case. Custom flags need to be passed to cmake are: `-DBoost_USE_STATIC_RUNTIME=ON -DBoost_DIR=${projectDir}\\\\deps\\\\boost\\\\lib\\\\cmake\\\\Boost-1.77.0 -DCMAKE_MSVC_RUNTIME_LIBRARY=MultiThreaded`\r\n* The install-deps script could probably be made a little more fool-proof / robust, i.e. it should allow to be invoked more than once and not bail out with weird error messages.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12904/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12904/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1090276111",
    "html_url": "https://github.com/ethereum/solidity/issues/12904#issuecomment-1090276111",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12904",
    "id": 1090276111,
    "node_id": "IC_kwDOAm_5kc5A_EsP",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-06T13:31:07Z",
    "updated_at": "2022-04-06T13:53:24Z",
    "author_association": "MEMBER",
    "body": "Furthermore:\r\n- we should more gracefully handle privilege errors in the symlink tests.\r\n- we may consider making the non-release windows build a debug build (that would have caught https://github.com/ethereum/solidity/pull/12902)\r\n- we need to fix VS2022 builds (https://github.com/ethereum/solidity/pull/12802 contains a CI setup for that, but is still lacking the actual range-v3-related fix)\r\n- Also (although this may not strictly related to windows builds), ideally, linking soltest to dynamic boost should also be possible without issues.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1090276111/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1094889954",
    "html_url": "https://github.com/ethereum/solidity/issues/12904#issuecomment-1094889954",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12904",
    "id": 1094889954,
    "node_id": "IC_kwDOAm_5kc5BQrHi",
    "user": {
      "login": "christianparpart",
      "id": 56763,
      "node_id": "MDQ6VXNlcjU2NzYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/56763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/christianparpart",
      "html_url": "https://github.com/christianparpart",
      "followers_url": "https://api.github.com/users/christianparpart/followers",
      "following_url": "https://api.github.com/users/christianparpart/following{/other_user}",
      "gists_url": "https://api.github.com/users/christianparpart/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/christianparpart/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/christianparpart/subscriptions",
      "organizations_url": "https://api.github.com/users/christianparpart/orgs",
      "repos_url": "https://api.github.com/users/christianparpart/repos",
      "events_url": "https://api.github.com/users/christianparpart/events{/privacy}",
      "received_events_url": "https://api.github.com/users/christianparpart/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-11T10:37:48Z",
    "updated_at": "2022-04-11T10:37:48Z",
    "author_association": "MEMBER",
    "body": "I forgot what I did to work around the following error when executing `./scripts/install_deps.ps1`:\r\n\r\n```\r\n...\r\nBuilding Boost.Build engine\r\nLOCALAPPDATA=C:\\Users\\chris\\AppData\\Local\r\nFound with vswhere C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\r\n###\r\n### \"Unknown toolset: vcunk\"\r\n...\r\n```\r\n\r\nwhich I am facing again, but probably also worth fixing for the common user.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1094889954/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
