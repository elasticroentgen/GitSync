{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13174",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13174/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13174/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13174/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13174",
  "id": 1277119979,
  "node_id": "I_kwDOAm_5kc5MH03r",
  "number": 13174,
  "title": "`pure` functions can read storage",
  "user": {
    "login": "duncancmt",
    "id": 1207590,
    "node_id": "MDQ6VXNlcjEyMDc1OTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1207590?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/duncancmt",
    "html_url": "https://github.com/duncancmt",
    "followers_url": "https://api.github.com/users/duncancmt/followers",
    "following_url": "https://api.github.com/users/duncancmt/following{/other_user}",
    "gists_url": "https://api.github.com/users/duncancmt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/duncancmt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/duncancmt/subscriptions",
    "organizations_url": "https://api.github.com/users/duncancmt/orgs",
    "repos_url": "https://api.github.com/users/duncancmt/repos",
    "events_url": "https://api.github.com/users/duncancmt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/duncancmt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-06-20T15:51:45Z",
  "updated_at": "2022-06-20T15:53:47Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nIt is possible to declare a `pure` function that reads storage\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.8.15\r\n- Target EVM version (as per compiler settings): London\r\n- Framework/IDE (e.g. Truffle or Remix): Foundry\r\n- EVM execution environment / backend / blockchain client: Hardhat\r\n- Operating system: Fedora 34\r\n\r\n## Steps to Reproduce\r\n\r\n```solidity\r\npragma solidity ^0.8.15;\r\n\r\ncontract Demo {\r\n  string internal _thing = \"I am a string\";\r\n\r\n  function thing() external pure returns (string memory) {\r\n    string storage ref;\r\n    assembly (\"memory-safe\") {\r\n      ref.slot := _thing.slot\r\n    }\r\n    return ref;\r\n  }\r\n}\r\n```\r\n\r\nCalling `Demo.thing()` returns `\"I am a string\"`.\r\n\r\n---\r\n\r\nI encountered this bug while investigating [my Stack Exchange question](https://ethereum.stackexchange.com/questions/130470/copying-strings-and-bytes-from-memory-to-storage-via-storage-references). Perhaps they're related? I would appreciate any opinion y'all can give.\r\n<!--\r\nPlease provide a *minimal* source code example to trigger the bug you have found.\r\nPlease also mention any command line flags that are necessary for triggering the bug.\r\nProvide as much information as necessary to reproduce the bug.\r\n\r\n```solidity\r\n// Some *minimal* Solidity source code to reproduce the bug.\r\n// ...\r\n```\r\n-->\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13174/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13174/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1160611219",
    "html_url": "https://github.com/ethereum/solidity/issues/13174#issuecomment-1160611219",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13174",
    "id": 1160611219,
    "node_id": "IC_kwDOAm_5kc5FLYWT",
    "user": {
      "login": "duncancmt",
      "id": 1207590,
      "node_id": "MDQ6VXNlcjEyMDc1OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1207590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/duncancmt",
      "html_url": "https://github.com/duncancmt",
      "followers_url": "https://api.github.com/users/duncancmt/followers",
      "following_url": "https://api.github.com/users/duncancmt/following{/other_user}",
      "gists_url": "https://api.github.com/users/duncancmt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/duncancmt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/duncancmt/subscriptions",
      "organizations_url": "https://api.github.com/users/duncancmt/orgs",
      "repos_url": "https://api.github.com/users/duncancmt/repos",
      "events_url": "https://api.github.com/users/duncancmt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/duncancmt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-20T15:53:47Z",
    "updated_at": "2022-06-20T15:53:47Z",
    "author_association": "NONE",
    "body": "This is related to #12820, which was closed with little explanation",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1160611219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
