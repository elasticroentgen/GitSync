{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13122",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13122/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13122/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13122/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13122",
  "id": 1268089307,
  "node_id": "I_kwDOAm_5kc5LlYHb",
  "number": 13122,
  "title": "Upgrade emscripten to 3.2.0+",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 437863668,
      "node_id": "MDU6TGFiZWw0Mzc4NjM2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/build%20system%20:building_construction:",
      "name": "build system :building_construction:",
      "color": "1d76db",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-06-10T23:12:00Z",
  "updated_at": "2022-06-16T12:36:10Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Here's the yearly Emscripten update issue. Last update was in 0.8.10 in #11689.\r\n\r\nSome cherry-picked updates from the [changelog](https://github.com/emscripten-core/emscripten/blob/main/ChangeLog.md):\r\n\r\n3.2.0:\r\n> Emscripten now knows what minimum browser versions the WASM_BIGINT feature requires and will automatically set the defaults accordingly. (#17163)\r\n\r\nInteresting, could check this out for solc-js. [Explainer](https://v8.dev/features/wasm-bigint).\r\n\r\n3.1.11:\r\n> compiler-rt updated to LLVM 14. (#16991)\r\n> libc++ updated to LLVM 14. (#17000)\r\n> libc++abi updated to LLVM 14. (#16993)\r\n\r\n3.1.7:\r\n> Added new compiler+linker option -sSHARED_MEMORY=1, which enables targeting a shared WebAssembly.Memory. (#16419)\r\n\r\n3.1.5:\r\n> Emscripten no longer uses the allocate() runtime function. For backwards compatabiliy with external JS code we still include this function by default but it will no longer be included in -sSTRICT mode. Usages of this function are generally best replaced with _malloc, stackAlloc or allocateUTF8.\r\n\r\n3.1.3:\r\n> New setjmp/longjmp support using Wasm EH instructions is added, which is faster and reduces code size. You need a browser that supports Wasm EH spec to use it. The new SjLj support is enabled by -sSUPPORT_LONGJMP=wasm. This can be used with Wasm exception support (-fwasm-exceptions), but not with Emscripten exception support (-fexceptions or -sDISABLE_EXCEPTION_CATCHING=0). When using Wasm EH with Wasm SjLj, there is one restriction that you cannot directly call setjmp within a catch clause. (Calling another function that calls setjmp is fine.) (#14976 and #16072)\r\n\r\n3.1.0:\r\n> Emscripten in starting to use ES6 features in its core libraries (at last!). For most users targeting the default set of browsers this is a code size win. For projects targeting older browsers (e.g. -sMIN_CHROME_VERSION=10), emscripten will now run closure compiler in WHITESPACE_ONLY mode in order to traspile any ES6 down to ES5. When this automatic transpilation is performed we generate a warning which can be disabled (using -Wno-transpile) or by explicitly opting in-to or out-of closure using --closure=1 or --closure=0. (#15763).\r\n\r\n3.0.1:\r\n> Deprecate EMMAKEN_CFLAGS is favor of EMCC_CFLAGS.\r\n\r\n3.0.0:\r\n> The version of musl libc used by emscripten was upgraded from v1.1.15 to v1.2.2. There could be some minor size regressions (or gains) due to changes in upstream musl code but we don't expect anything major. Since this is a fairly substantial change (at least internally) we are bumping the major version of Emscripten to 3. (#13006)",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13122/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13122/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1157609755",
    "html_url": "https://github.com/ethereum/solidity/issues/13122#issuecomment-1157609755",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13122",
    "id": 1157609755,
    "node_id": "IC_kwDOAm_5kc5E_7kb",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-16T12:35:34Z",
    "updated_at": "2022-06-16T12:36:10Z",
    "author_association": "MEMBER",
    "body": "Usually, I'm the one doing this, but actually it's not too hard, in case there are no issues, so somebody else could look into the old PR progression that bumped the version last time and give this a try while I'm off :-).\r\nIf the update results in compilation issues and/or runtime issues, we can still postpone, but oftentimes the update is actually smooth.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1157609755/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
